# Project testing

## Введение

Тестирование - это проверка соответствия реальных и ожидаемых результатов поведения программы, проводимая на конечном наборе тестов, выбранном определённым образом.В данном документе описывается процесс тестирования утилиты "HDD-RCV" для восстановления поврежденных секторов жесткого диска. 

## 1  Описание тестирования

### 1.1  План тестирования

План тестирования описывает подход к тестированию, который использовался при проверке функционала проекта, и построен на основе реализаций решения задач проекта.

В документе представлены:
Цель тестирования: описывают задачи которые должны выполнять тесты
Требования к тестированию: правила, на которых будет основано тестирование, и описание процесса тестирования.
Функциональное тестирование: тестирование исключительных ситуаций в ходе работы утилиты.

### 1.2 Описание проекта

"HDD-RCV" – консольная утилита для решения проблем с поврежденными секторами на жестких дисках. Пользователю предоставляется возможность получить сведения о состоянии носителя информации и проверить его на ошибки секторов с последующим их исправлением. Восстановление функциональности сектора происходит при помощи процедуры "ремапа".

## 2 Стратегия тестирования

### 2.1 Цель тестирования

Цель теста - убедиться в корректности выполнения функционала утилиты и в корректности выводимых данных, а также в способности утилиты выявить и обработать исключительные ситуации.
Конечным продуктом теста является выявление очевидных ошибок в программном обеспечении, которые должны быть выявлены до того, как их обнаружат пользователи программы..

### 2.2 Требования к тестированию

Функциональное тестирование должно проводиться для всех функций утилиты. Должны быть отработаны алгоритмы выполнения функций и исключительные ситуации возникающие при их выполнении.
Все данные, передаваемые утилите должны быть проверены на корректность. Также реализовать тестирование реакции утилиты на некорректный ввод пользователя.
Среда тестирования должна полностью отображать реальное использование утилиты по назначению. 

### 2.3 Функциональное тестирование

**Цель:** Проверить функционалбность утилиты. Функциональное тестирование выполняется путем ввода данных в утилиту и проверкой вывода информации, обрабатываемой утилитой. Также неообходимо проверить успешное выполнение операций.

**Метод:** Тесты производятся путем ввода данных в утилиту и проверкой ожидаемого вывода, или же ожидаемой реакции утилиты на исключительные ситуации. Тестирование результатов выпонения утилиты производится путем сравнения с результатами работы аналога утилиты. 

**Критерии приемлемости теста:** Если вывод при тестировании совпадает с ожидаемым - тест пройден. Если сработала обработка исключительной ситуации - тест также считается пройден.

**Сроки:** Срок выполнения теста зависит от парамтеров носителя. Малый объем хранимой информации (до 4 ГБ) на носителе не допускает больших сроков выполнения теста (менее 4 часов). 

### 2.3.1 Тестирование функции Create_Device класса Device

Create_Device - функция, создающая и сохраняющая в поле класса дескриптор носителя для последующего его вызова при получении информации, диагностики и восстановлении работоспособности секторов (в случае выявления ошибки). На вход функция принимает имя устройства в формате PhysicalDriveX, где X - номер носителя в системе. Функция возвращает единицу при успешном выполнении. Функция возвращает ноль при ошибке, такой как указание неверного номера диска или неверного имени носителя в системе. Был написан юнит тест TestingOpenDev, реализующий проверку на ввод корректного имени и номера носителя (ожидаемое возвращаемое значение - 1) и проверку на на ввод некорректного имени и номера носителя (ожидаемое возвращаемое значение - 0).

### 2.3.2 Тестирование функции Get_Device_Info класса Device

Get_Device_Info - функция, получающая и сохраняющая в поля класса сведения о носителе, такие как количество секторов, цилиндров, дорожек и полны размер носителя. На вход функция не получает аргументов, так как использует для работы лишь поле класса Device с дескриптором, полученным при помощи Create_Device.  Функция возвращает единицу при успешном выполнении и ноль при ошибке. Был написан юнит тест TestingGetSetInfo, реализующий проверку на получении коректных параметров носителя, а именно - размер носителя. Использовался носитель с размером хранилища 512 Гб или 512110190592 байт без округления. Ожидаемое полученное значение размера носителя при выполнении теста - 512110190592 байт.


### 2.3.3 Тестирование выбора носителя

Программа запускается через консоль и при запуске .exe файла необходимо передать параметром номер физического диска для диагностики. Если будет указан неверный номер диска, должна быть выполнена обработка исключения, что приведет к завершению программы и выводу соответствующего сообщение об ошибке.

картинка

### 2.3.4 Тестирование выбора действия:

В процессе программа запросит разрешения у пользователя на проведение диагностики путем нажатий клавиш ‘y’ или ‘n’ . Однако если пользователь введет некорректный символ, должна быть выполнена обработка исключения, что приведет к выводу предупреждения и повторному вводу.

pics


### 2.3.5 Тестирование процесса диагностики:

Здесь описан тест процесса диагностики и ее мониторинг. Так как диск на машине не имеет поврежденных секторов, используется функция-симулятор отклика Get_Status, эмулирующая наличие долгого ответа от случайных секторов. При обнаружении секторов, задержка при чтении которых является критической, выводятся желтые либо красные ячейки, которые информируют пользователя, что они были найдены.

pics

Нажав клавишу “S” проверим, действительно ли они были найдены и узнаем их точное количество. Следует упомянуть, что их восстановление происходит сразу же после обнаружения. 

pics

Таким образом видно, что утилита способна отлавливать поврежденные сектора, информировать пользователя о их наличии и совершить попытку вызова процесса ремапа.

### 2.3.6 Тестирование результата диагностики:

Будет произведен тест, который проверит работоспособность утилиты. Запустив диагностику на целом диске, при завершении процесса появились результаты проверки. Результаты разработанной программы и утилиты chkdsk, оказались идентичны – сектора в порядке.

pics pics

## 3 Среда тестирования

ОС:

Windows 10

Язык программирования:

С++

